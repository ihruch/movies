(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){},190:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},212:function(e,t,a){},214:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(17),o=a.n(c),r=a(21),s=a(28),l=a(34),d=a(89),p=a(18),u=("".concat("movies","/FETCH_MOVIES_BEGIN"),"".concat("movies","/FETCH_MOVIES_SUCCESS"),"".concat("movies","/FETCH_MOVIES_ERROR"),"".concat("single movie","/FETCH_SINGLE_MOVIE_SUCCESS"),"".concat("series","/FETCH_SERIES_BEGIN"),"".concat("series","/FETCH_SERIES_SUCCESS"),"".concat("series","/FETCH_SERIES_ERROR"),"".concat("single series","/FETCH_SINGLE_SERIES_SUCCESS"),{data:[],loading:!1,error:null,entitis:{},ids:[],idPage:""}),m={data:[],loading:!1,error:null,entitis:{},ids:[]},h={typeSort:""},v=a(90),g=a.n(v)()(),E=Object(l.b)(g),b=[d.a,E],S=Object(s.c)({dataMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIES_BEGIN":return Object(p.a)({},e,{data:[],loading:!0,error:null});case"FETCH_MOVIES_SUCCESS":var a=t.payload.payload,n={};a.results.forEach(function(e){n[e.id]=e});var i=Object.getOwnPropertyNames(n);return Object(p.a)({},e,{loading:!1,data:t.payload,entitis:n,ids:i,idPage:t.payload.payload.page});case"FETCH_MOVIES_ERROR":return Object(p.a)({},e,{loading:!1,error:t.payload});default:return e}},dataSeries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SERIES_BEGIN":return Object(p.a)({},e,{data:[],loading:!0,error:null});case"FETCH_SERIES_SUCCESS":var a=t.payload.payload,n={};a.results.forEach(function(e){n[e.id]=e});var i=Object.getOwnPropertyNames(n);return Object(p.a)({},e,{loading:!1,data:t.payload,entitis:n,ids:i,idPage:t.payload.payload.page});case"FETCH_SERIES_ERROR":return Object(p.a)({},e,{loading:!1,error:t.payload});default:return e}},routing:l.c,sorting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORTING_DATA":var a=t.payload;return Object(p.a)({},e,{typeSort:a});case"CLEAR_SORTING_DATA":return Object(p.a)({},e,{typeSort:{payload:""}});default:return e}}}),f=Object(s.d)(S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),s.a.apply(void 0,b)),O=a(10),_=a(11),y=a(13),N=a(12),j=a(14),C=a(220),k=a(218),R=a(219),T=a(5),w=a(25),I=a.n(w),M=a(45),B=a.n(M),F=a(27),H=a.n(F),L=a(32),x=a.n(L),P=a(16),U=a.n(P),A=a(26),G=a.n(A),D=(a(108),function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return i.a.createElement(I.a,{className:"single-card-main"},i.a.createElement(G.a,{className:"single-card-img",image:this.props.img,title:this.props.title}),i.a.createElement("div",{className:"single-card-info-block"},i.a.createElement(H.a,{className:"single-card-content"},i.a.createElement(U.a,{variant:"headline",component:"h2"},this.props.title),i.a.createElement(U.a,{color:"textSecondary"},this.props.dateRelease),i.a.createElement(U.a,{component:"p"},this.props.description.slice(0,120),i.a.createElement("br",null))),i.a.createElement(B.a,{className:"single-card-action"},i.a.createElement(x.a,{size:"small",onClick:this.props.func},"More"))))}}]),t}(n.Component)),V="https://api.themoviedb.org/3/",W="d73711f75d852eb912c0d4955eb96e08",z={getMovieDataList:function(e){return console.log("2",e),fetch("".concat(V,"movie/popular?api_key=").concat(W,"&").concat("language=ru-RU","&page=").concat(e)).then(function(e){return e.json()}).then(function(e){return e})},getSeriesDataList:function(e){return fetch("".concat(V,"tv/popular?api_key=").concat(W,"&").concat("language=ru-RU","&page=").concat(e)).then(function(e){return e.json()}).then(function(e){return e})}},X=function(e){return function(t,a){t({type:"FETCH_MOVIES_BEGIN"}),z.getMovieDataList(e).then(function(a){localStorage.setItem("pageListMovie",e),t({type:"FETCH_MOVIES_SUCCESS",payload:{payload:a}})}).catch(function(e){return t({type:"FETCH_MOVIES_ERROR",payload:{err:e}})})}},J=function(e){return function(t,a){t({type:"SORTING_DATA",payload:{payload:e}})}},Z=(a(190),function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"spinner"},i.a.createElement("div",{className:"spin"}))}}]),t}(n.Component)),q=a(91),K=(a(198),[{value:"asc",label:"Sort A to Z"},{value:"desc",label:"Sort Z to A"}]);var Q=function(e){var t=e.changeFunc,a=e.valState;return i.a.createElement("div",{className:"movies-sorting-block inner-container"},i.a.createElement(q.a,{value:a,onChange:t,options:K,className:"movies-select",placeholder:"Sort by name"}))},Y=(a(200),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).handelNextBtn=a.handelNextBtn.bind(Object(T.a)(Object(T.a)(a))),a.handelPrevBtn=a.handelPrevBtn.bind(Object(T.a)(Object(T.a)(a))),a.handleChangeSelect=a.handleChangeSelect.bind(Object(T.a)(Object(T.a)(a))),a.state={count:1,loading:!0,data:[],selectedOption:null},a.props.dispatch(X(a.state.count)),a}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(X(this.state.count))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_SORTING_DATA"})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:e.loading,data:e.dataMovies})}},{key:"handelNextBtn",value:function(){this.props.dispatch(X(this.state.count+1)),this.setState({count:this.state.count+1}),window.scrollTo(0,0)}},{key:"handelPrevBtn",value:function(){this.props.dispatch(X(this.state.count-1)),this.setState({count:this.state.count-1}),window.scrollTo(0,0)}},{key:"handleChangeSelect",value:function(e){this.props.dispatch(J(e.value)),this.setState({selectedOption:e})}},{key:"handleMoveToSingleCard",value:function(e){this.props.history.push("/movie/".concat(e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=(t.count,t.data);t.selectedOption;return i.a.createElement("div",{style:{paddingTop:"10vh"},className:"inner-container"},i.a.createElement(Q,{changeFunc:this.handleChangeSelect,onChange:this.state.selectedOption}),i.a.createElement("div",{className:"movies-wrapper"},a&&i.a.createElement(Z,null),i.a.createElement("div",{className:"paiging-btn"},i.a.createElement("div",{className:"paiging-btn-group"},i.a.createElement("button",{onClick:this.handelPrevBtn,disabled:!(this.state.count-1)},i.a.createElement("i",{className:"material-icons"},"navigate_before")),i.a.createElement("button",{onClick:this.handelNextBtn,disabled:!1},i.a.createElement("i",{className:"material-icons"},"navigate_next")))),i.a.createElement("div",{className:"list-container inner-container"},!a&&n.map(function(t){return i.a.createElement(D,{key:t.id,id:t.id,dateRelease:t.release_date,title:t.title,description:t.overview,img:"https://image.tmdb.org/t/p/w185_and_h278_face"+t.poster_path,func:e.handleMoveToSingleCard.bind(e,t.id)})}))))}}]),t}(n.Component)),$=Object(r.b)(function(e){var t=e.dataMovies.ids.map(function(t){return e.dataMovies.entitis[t]});switch(e.sorting.typeSort.payload){case"asc":return{dataMovies:t.sort(function(e,t){return e.title>t.title?1:-1}),loading:e.dataMovies.loading};case"desc":return{dataMovies:t.sort(function(e,t){return e.title>t.title?-1:1}),loading:e.dataMovies.loading};default:return{dataMovies:t,loading:e.dataMovies.loading}}})(Y),ee=a(51),te=a(221),ae=a(217),ne=(a(202),a(94)),ie=a.n(ne);var ce=function(){return i.a.createElement("header",null,i.a.createElement("div",{className:"app-header inner-container"},i.a.createElement("a",{href:"/"}," ",i.a.createElement("img",{src:ie.a,className:"app-logo",alt:"logo"})),i.a.createElement("nav",{className:"app-header-nav"},i.a.createElement("ul",{className:"app-nav"},i.a.createElement("li",null,i.a.createElement(ae.a,{to:"/movies"}," \u0424\u0438\u043b\u044c\u043c\u044b ")),i.a.createElement("li",null,i.a.createElement(ae.a,{to:"/series"}," \u0421\u0435\u0440\u0438\u0430\u043b\u044b "))))))},oe=a(53),re=a.n(oe),se=a(52);a(204);function le(){var e=Object(ee.a)(["\n            position: relative;\n            z-index: 1;\n            : after {\n                content: '';\n                display: block;\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                z-index: -1;\n\n                background-size: cover;\n                background-position: 50% 50%;\n                background-repeat: no-repeat;\n                \n                background-image: url(",");\n                filter: opacity(100) grayscale(100%) contrast(130%);\n            }"]);return le=function(){return e},e}var de=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).handleBack=e.handleBack.bind(Object(T.a)(Object(T.a)(e))),e.state={id:null,loading:!0},e}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch((this.props.match.params.id,function(e,t){e(X(localStorage.getItem("pageListMovie"))),e({type:"FETCH_SINGLE_MOVIE_SUCCESS"})}))}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:e.loading})}},{key:"handleBack",value:function(){this.props.history.push("/movies")}},{key:"render",value:function(){var e=se.a.div(le(),function(e){return e.bgi});console.log("singleMovie",this.props.singleMovie);var t=this.state,a=t.loading;t.id;return i.a.createElement("section",{style:{paddingTop:"10vh"}},a&&i.a.createElement(Z,null),!a&&i.a.createElement(e,{bgi:"https://image.tmdb.org/t/p/w1400_and_h450_face/"+this.props.singleMovie.backdrop_path},i.a.createElement("div",{className:"bg-customer"},i.a.createElement("div",{className:"content-container"},i.a.createElement(I.a,{className:"smp-card"},i.a.createElement("div",{className:"smp-card-wrapper"},i.a.createElement(G.a,{className:"smp-card-media",image:"https://image.tmdb.org/t/p/w300_and_h450_face"+this.props.singleMovie.poster_path,title:"Live from space album cover"}),i.a.createElement(H.a,{className:"smp-card-content"},i.a.createElement("div",{className:"smp-card-title"},i.a.createElement(U.a,{component:"h1",variant:"title"},this.props.singleMovie.title),i.a.createElement(U.a,{component:"span",variant:"subtitle1"},"(",this.props.singleMovie.release_date,")")),i.a.createElement("div",{className:"smp-card-descr"},i.a.createElement(U.a,{component:"p"},this.props.singleMovie.overview)),i.a.createElement(re.a,{"aria-label":"arrow_back",onClick:this.handleBack,className:"smp-btn-back"},i.a.createElement("i",{className:"material-icons"}," arrow_back ")))))))))}}]),t}(n.Component);var pe=Object(te.a)(Object(r.b)(function(e,t){var a=t.match.params.id;return{singleMovie:e.dataMovies.entitis[a],loading:e.dataMovies.loading}})(de)),ue=function(e){return function(t,a){t({type:"FETCH_SERIES_BEGIN"}),z.getSeriesDataList(e).then(function(a){localStorage.setItem("pageListSeries",e),t({type:"FETCH_SERIES_SUCCESS",payload:{payload:a}})}).catch(function(e){return t({type:"FETCH_SERIES_ERROR",payload:{err:e}})})}},me=(a(208),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).handelNextBtn=a.handelNextBtn.bind(Object(T.a)(Object(T.a)(a))),a.handelPrevBtn=a.handelPrevBtn.bind(Object(T.a)(Object(T.a)(a))),a.handleChangeSelect=a.handleChangeSelect.bind(Object(T.a)(Object(T.a)(a))),a.state={count:1,loading:!0,data:[],selectedOption:null},a.props.dispatch(ue(a.state.count)),a}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({loading:e.loading,data:e.dataSeries})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_SORTING_DATA"})}},{key:"handelNextBtn",value:function(){this.props.dispatch(ue(this.state.count+1)),this.setState({count:this.state.count+1}),window.scrollTo(0,0)}},{key:"handelPrevBtn",value:function(){this.props.dispatch(ue(this.state.count-1)),this.setState({count:this.state.count-1}),window.scrollTo(0,0)}},{key:"handleChangeSelect",value:function(e){this.props.dispatch(J(e.value)),this.setState({selectedOption:e})}},{key:"handleMoveToSingleCard",value:function(e){this.props.history.push("/tv-show/".concat(e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=(t.count,t.data);t.selectedOption;return i.a.createElement("div",{style:{paddingTop:"10vh"},className:"inner-conrainer"},i.a.createElement(Q,{changeFunc:this.handleChangeSelect,onChange:this.state.selectedOption}),i.a.createElement("div",{className:"movies-wrapper"},a&&i.a.createElement(Z,null),i.a.createElement("div",{className:"paiging-btn"},i.a.createElement("div",{className:"paiging-btn-group"},i.a.createElement("button",{onClick:this.handelPrevBtn,disabled:!(this.state.count-1)},i.a.createElement("i",{className:"material-icons"},"navigate_before")),i.a.createElement("button",{onClick:this.handelNextBtn,disabled:!1},i.a.createElement("i",{className:"material-icons"},"navigate_next")))),i.a.createElement("div",{className:"list-container inner-container"},!a&&n.map(function(t){return i.a.createElement(D,{key:t.id,id:t.id,dateRelease:t.first_air_date,title:t.name,description:t.overview,img:"https://image.tmdb.org/t/p/w185_and_h278_face"+t.poster_path,func:e.handleMoveToSingleCard.bind(e,t.id)})}))))}}]),t}(n.Component)),he=Object(r.b)(function(e){var t=e.dataSeries.ids.map(function(t){return e.dataSeries.entitis[t]});switch(e.sorting.typeSort.payload){case"asc":return{dataSeries:t.sort(function(e,t){return e.title>t.title?1:-1}),loading:e.dataSeries.loading};case"desc":return{dataSeries:t.sort(function(e,t){return e.title>t.title?-1:1}),loading:e.dataSeries.loading};default:return{dataSeries:t,loading:e.dataSeries.loading}}})(me);a(210);function ve(){var e=Object(ee.a)(["\n            position: relative;\n            z-index: 1;\n            : after {\n                content: '';\n                display: block;\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                z-index: -1;\n\n                background-size: cover;\n                background-position: 50% 50%;\n                background-repeat: no-repeat;\n                \n                background-image: url(",");\n                filter: opacity(100) grayscale(100%) contrast(130%);\n            }"]);return ve=function(){return e},e}var ge=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).handleBack=e.handleBack.bind(Object(T.a)(Object(T.a)(e))),e.state={id:null,loading:!0},console.log("1111111111111111111111111111"),e}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch((this.props.match.params.id,function(e,t){var a;e(ue(localStorage.getItem("pageListSeries"))),e({type:"FETCH_SINGLE_SERIES_SUCCESS",payload:{payload:a}})}))}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:e.loading})}},{key:"handleBack",value:function(){this.props.history.push("/series")}},{key:"render",value:function(){var e=se.a.div(ve(),function(e){return e.bgi});console.log("singleSeries",this.props.singleMovie);var t=this.state,a=t.loading;t.id;return i.a.createElement("section",{style:{paddingTop:"10vh"}},a&&i.a.createElement(Z,null),!a&&i.a.createElement(e,{bgi:"https://image.tmdb.org/t/p/w1400_and_h450_face/"+this.props.singleSeries.backdrop_path},i.a.createElement("div",{className:"bg-customer"},i.a.createElement("div",{className:"content-container"},i.a.createElement(I.a,{className:"smp-card"},i.a.createElement("div",{className:"smp-card-wrapper"},i.a.createElement(G.a,{className:"smp-card-media",image:"https://image.tmdb.org/t/p/w300_and_h450_face"+this.props.singleSeries.poster_path,title:"Live from space album cover"}),i.a.createElement(H.a,{className:"smp-card-content"},i.a.createElement("div",{className:"smp-card-title"},i.a.createElement(U.a,{component:"h1",variant:"title"},this.props.singleSeries.name),i.a.createElement(U.a,{component:"span",variant:"subtitle1"},"(",this.props.singleSeries.first_air_date,")")),i.a.createElement("div",{className:"smp-card-descr"},i.a.createElement(U.a,{component:"p"},this.props.singleSeries.overview)),i.a.createElement(re.a,{"aria-label":"arrow_back",onClick:this.handleBack,className:"smp-btn-back"},i.a.createElement("i",{className:"material-icons"}," arrow_back ")))))))))}}]),t}(n.Component);var Ee=Object(te.a)(Object(r.b)(function(e,t){console.log("props single series",e.dataSeries.entitis[t.match.params.id]);var a=t.match.params.id;return{singleSeries:e.dataSeries.entitis[a],loading:e.dataSeries.loading}})(ge)),be=(a(212),function(e){function t(e){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).call(this))}return Object(j.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"app-main"},i.a.createElement(ce,null),i.a.createElement(C.a,null,i.a.createElement(k.a,{path:"/movies",component:$}),i.a.createElement(k.a,{path:"/movie/:id",component:pe}),i.a.createElement(k.a,{path:"/series",component:he}),i.a.createElement(k.a,{path:"/tv-show/:id",component:Ee}),i.a.createElement(R.a,{to:"/movies"})))}}]),t}(n.Component));a(214);o.a.render(i.a.createElement(r.a,{store:f},i.a.createElement(l.a,{history:g},i.a.createElement(be,null))),document.getElementById("root"))},94:function(e,t,a){e.exports=a.p+"static/media/logo-db.02a9430b.svg"},97:function(e,t,a){e.exports=a(216)}},[[97,2,1]]]);
//# sourceMappingURL=main.832077d5.chunk.js.map